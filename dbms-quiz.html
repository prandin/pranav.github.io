<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>DBMS - Quiz</title>
  </head>
  <body>
    <p>This page will contain quiz questions that test understanding in the
    theoretical aspects of the course. I have ignored questions related to ER diagrams.
    <br>
    <a href="https://www.cs.uct.ac.za/mit_notes/database/htmls/chp11.html">File Organization and Indexes</a>
    </p>
    <h2>Key Constraints</h2>
    <ol>
      <li>[True/ False] "If X is a foreign key in R that references the primary key P of S,
        then deletion of a tuple in R will enforce a foreign key constraint check."</li>
    </ol>

    <h2>Normalization Techniques</h2>
    <ol>
      <li>If all the attributes of a relation R is prime, then find the maximum
      normalization form that holds for R?<b>[Hint: Use third point of Carlos' definition]</b></li>
      <li>[True/False] "Decomposition of a relation into BCNF may not be lossless" <b>[False; Repeated decomposition
        of a relation into BCNF is always lossless.]</b></li>
      <li>[True/ False] "Decompostion of a relation into BCNF may not be dependency preserving" <b>[True]</b></li>
      <li>[True/ False] "Some redundancy is possible in a 3NF relation" <b>[True]</b></li>
      <li>[True/ False] "Decompositions into 3NF are always lossless and dependency preserving" <b>[True]</b></li>
      <li>[True/ False] "The natural join of two relations in BCNF is always BCNF" <b>[False; e.g. see decompostions into BCNF]</b></li>
      <li>[True/ False] (a)If relation R is in 3NF and every key is simple, then R is in BCNF
    (b) If relation R is in 3NF and R has only one key, then R is in BCNF
     </li>
     <li>Consider a relation R in 3NF and every key in R is simple. For a
     functional dependency X -> Y that holds in R, prove that X must always be a
    super key.<b>[Proof by Contradiction]</b></li>
      <li>When does BCNF differ from 3NF?"</li>
      <li>[True/ False] "A 3NF relation with two or more overlapping candidate keys is
        guaranteed to NOT be in BCNF" <b>[False]</b></li>
    </ol>

    <h2>Relational Algebra</h2>
    <ol>
      <li>What does the division operation do? What condition must be satisfied for division
      to be possible?</li>
      <li>What are the basic operations of relational algebra? Write them in the order of their
      precedence.</li>
      <li>[True/ False]: "Relational calculus is declarative"</li>
      <li></li>
    </ol>

    <h2>Indexing Structures</h2>
    <p>Single-Level Indexing: Primary Indexing, Clustering Indexing, Secondary Indexing; Multilevel Indexing; Dynamic Multilevel Indexing
    - B-trees, B+ trees;</p>
    <ol>
      <li>Given a data file with 100 records per page and 1000 pages and on index page capacity of 512 index entries,
        how deep should be the B+ tree to index this file.</li>
      <li>Consider 5 blocks B1 ... B5 for a large file having fields (ID, Department, Name) where ID is the primary key.
        Each block Bi holds ID values 100*i to 100*i + 99. What are the first three primary index entries built for the data file?
        Also write where their corresponding block pointers point to. </li>
      <li>[True/ False] "A primary index can be sparse or dense"</li>
      <li>Consider an ordered file with 40000 records stored on a disk with block size 1024 B. File records
      are of fixed-length and are unspanned, with a record size of 100 B. Find:
      <ol>
        <li>The blocking factor for the data file</li>
        <li>The number of blocks required for the file</li>
        <li>Number of block accesses required to perform a binary search on the data file. </li>
      </ol>
      If the ordering key field for the file is 11 B long and a block pointer is 8 bytes long, and a primary
    index is created for the file, find:
      <ol>
        <li>The blocking factor for the index file</li>
        <li>The number of blocks required for the index file</li>
        <li>Number of block access required to perform binary search on the index file.</li>
        <li>Number of block accesses required to retrieve a data record using the index. <b>[Observe the improvement
          this method offers over simply performing binary search over the data blocks.]</b></li>
      </ol></li>
      <li>What is the major issue with primary indexing?<b>[Insertions and deletions in a sorted file]</b></li><br>

      <li>[True/ False] "For a clustering index, the block pointer for each distinct value will point to the anchor record
        of that block containing at least one record with that value in its clustering field" <b>[True]</b></li>
      <li>How are blocks corresponing to same clustering index linked? How is the problem of insertion alleviated in
      clustered indexing?</li>
      <li>How does linked-blocks clustered indexing vary from normal clustered indexing?<b>[Blocks will be exclusive for each distinct
        value of clustering index; Efficient but memory wastage;]</b></li><br>

      <li>[True/ False] "A secondary index on a key field is a dense index" <b>[True; One entry for each record;]</b></li>
      <li>Consider the data file and block pointer specifications given in question 4. If a secondary index is constructed
        over a non-ordering key field of 11 B, find the number of blocks required for the index
      and the number of block accesses using </li>
      <li>Consider the secondary indexing implementation on a non-key field where several index entries for the same
      key values exist. If the data file has 40000 records, find the total number of entries in the index file.</li><br>

      <li>Can we allow non-distinct values for key values in the first-level (base) index in a multilevel indexing
      structure? How about variable-length entries?<b>[No!, and No!]</b></li>
      <li>Consider a multilevel index with a fanout of 4. If the base index has 1024 blocks, find (a) the number of levels,
      and (b) the number of block accesses.<b>[Be careful! You have the number of blocks, not number of records.]</b></li><br>

      <li>Consider a Table T with a key field K. A B tree of order P, where P denotes the
        maximum number of record pointers in a B tree. Assume K is 10 bytes long,
        disk block size is 512 Bytes, record pointer is 8 bytes and block pointer size is 5 bytes long.
        Find the maximum value of P for each B tree node to fit in a single disk block .</li>
      <li>Find the maximum number of data entries that can be stored in a 4-level B-tree (L0-L3) with order 23 where each node is 69% full.</li>
      <li>Find the maximum number of data entries that can be stored in a 4-level B+ tree (L0 - L2, Lf)
          where the order of the B+ tree is 34 and the order of leaf nodes is 31, and each node is
          69% full.</li>
      <li>The minimum number of keys in a non-root node of a B+ tree is 3. Find the maximum number of keys in any non-root node.</li>
    </ol>

    <h2>Concurrency Control</h2>
    <p>Schedules;</p>
    <ol>
      <li>If three transactions T1, T2, and T3 have 2, 3, and 4 operations respectively, find the
      total number of non-serial, concurrent schedules possible.</li>
    </ol>
  </body>
</html>
